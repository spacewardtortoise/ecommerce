<div class="wrapper-content-main payment-confirmation-step">
  <article class="content-main">
    <h3 class="title">
      <%= gettext( "Thank you!" ) %>
    </h3>

    <% if ( receipt ) { %>
    <div class="list-info">
      <div class="info-item payment-info">
        <div class="copy">
        <p><%- gettext( "Your order was processed successfully. Print this page for your records; it serves as your \
        receipt. You will also receive a confirmation email with the same information at ") %>
        <a class="nav-link" href="mailto:<%- receipt.email %>"><%- receipt.email %></a>.</p>
        </div>

        <div class="wrapper-report">
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th scope="col" ><%- gettext( "Order No." ) %></th>
                <th scope="col" ><%- gettext( "Description" ) %></th>
                <th scope="col" ><%- gettext( "Date" ) %></th>
                <th scope="col" ><%- gettext( "Amount" ) %></th>
              </tr>
            </thead>

            <tbody>
              <% for ( var i = 0; i < receipt.items.length; i++ ) { %>
                <% if ( receipt.isRefunded ) { %>
                  <td><del><%- receipt.orderNum %></del></td>
                  <td><del><%- receipt.items[i].lineDescription %></del></td>
                  <td><del><%- receipt.purchasedDatetime %></del></td>
                  <td><del><%- receipt.items[i].cost %> (<%- receipt.currency.toUpperCase() %>)</del></td>
                <% } else { %>
                  <tr>
                    <td><%- receipt.orderNum %></td>
                    <td><%- receipt.items[i].lineDescription %></td>
                    <td><%- receipt.purchasedDatetime %></td>
                    <td><%- receipt.items[i].cost %> (<%- receipt.currency.toUpperCase() %>)</td>
                  </tr>
                <% } %>
              <% } %>
            </tbody>

            <tfoot>
              <tr>
                <th scope="row" class="total-label"><%- gettext( "Total" ) %></th>
                <td colspan="2"></td>
                <td class="total-value">
                  <span class="value-amount"><%- receipt.totalCost %></span>
                   <span class="value-currency">(<%- receipt.currency.toUpperCase() %>)</span>
                </td>
              </tr>
            </tfoot>
          </table>

          <% if ( receipt.isRefunded ) { %>
          <div class="msg msg-refunds">
            <h4 class="title sr"><%- gettext( "Please Note" ) %>: </h4>
            <div class="copy">
              <p><%- gettext( "Crossed out items have been refunded." ) %></p>
            </div>
          </div>
          <% } %>
        </div>

        <% if ( receipt.billedTo ) { %>
            <div class="copy">
              <p><%- gettext( "Billed to:" ) %>:
                  <span class="name-first"><%- receipt.billedTo.firstName %></span>
                  <span class="name-last"><%- receipt.billedTo.lastName %></span>
                  (<span class="address-city"><%- receipt.billedTo.city %></span>,
                  <span class="address-state"><%- receipt.billedTo.state %></span>
                  <span class="address-postalcode"><%- receipt.billedTo.postalCode %></span>
                  <span class="address-country"><%- receipt.billedTo.country.toUpperCase() %></span>)
              </p>
            </div>
        <% }  else if ( receipt.shipping_address ) { %>
            <address>
            <% for ( var i = 0; i < receipt.shipping_address.length; i++ ) { %>
                  <%- receipt.shipping_address[i] %> <br/>
                <% } %>
            </address>
        <% } else { %>
            <p><%- gettext( "No shipping address required." ) %></p>
        <% } %>

        <% if ( receipt.vouchers.length > 0 ) { %>
            <p><%- gettext( "Codes applied" ) %>:
            <% for ( var i = 0; i < receipt.vouchers.length; i++ ) { %>
                  <%- receipt.vouchers[i].code %>
                <% } %>
            </p>
        <% } %>
        <% if ( receipt.payment_processor ) { %>
            <p><%- gettext( "Paid for via " ) %><%- receipt.payment_processor %></p>
        <% } %>

        <div class="report report-receipt report-receipt-provider hidden" id="receipt-provider"></div>

      </div>
    </div>
    <% } else { %>
        <p class="no-content"><%- gettext( "No receipt available" ) %></p>
    <% } %>

    <nav class="nav-wizard is-ready">
        <% if ( verified ) { %>
            <a class="next action-primary right" href="<%- lmsUrl %>/dashboard"><%- gettext( "Go to Dashboard" ) %></a>
        <% } else { %>
          <a id="verify_later_button" class="next action-secondary verify-later nav-link" href="<%- lmsUrl %>/dashboard">
            <%- gettext( "Want to confirm your identity later?" ) %>
          </a>

          <a id="verify_now_button"
             class="next action-primary right"
             href="<%- lmsUrl %>/verify_student/verify-now/<%- courseKey %>/"
          >
            <%- gettext( "Verify Now" ) %>
          </a>
      <% } %>
    </nav>
  </article>
</div>
